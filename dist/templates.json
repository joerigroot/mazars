[{"name":"Cookie","type":"BODY_COMPONENT","allowedTypes":[],"orientation":"HORIZONTAL","jsx":"(() => {\n  const {\n    hostname,\n    googleTag\n  } = options;\n  const {\n    env\n  } = B;\n  const isDev = env === 'dev';\n\n  function getCookie(cname) {\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(';');\n\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n\n      while (c.charAt(0) == ' ') {\n        c = c.substring(1);\n      }\n\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n\n    return \"\";\n  }\n\n  useEffect(() => {\n    let mazarsAcceptCookies = getCookie('mazarsAcceptCookies');\n\n    if (mazarsAcceptCookies != \"\" && mazarsAcceptCookies != null) {\n      enableAnalytics();\n    } else {\n      B.triggerEvent('onCheckCookies');\n    }\n  });\n\n  const enableAnalytics = () => {\n    let analyticsAccepted = getCookie('mazarsAcceptAnalytics');\n\n    if (!isDev && analyticsAccepted === 'true') {\n      if (!document.querySelector('[data-script=\"google-tag\"]') && googleTag.length > 0) {\n        const tagScript = document.createElement('script');\n        const tagUrl = `https://www.googletagmanager.com/gtag/js?id=${googleTag}`;\n        tagScript.src = tagUrl;\n        tagScript.async = true;\n        tagScript.setAttribute('data-script', 'google-tag');\n        const tagScriptDataLayer = document.createElement('script');\n        const inlineScript = document.createTextNode(`window.dataLayer = window.dataLayer || [];\n            function gtag() { dataLayer.push(arguments); }\n            gtag('js', new Date());\n            gtag('config', '${googleTag}');`);\n        tagScriptDataLayer.appendChild(inlineScript);\n\n        if (location.hostname === hostname) {\n          if (!document.querySelector('[data-script=\"google-tag\"]')) {\n            document.head.prepend(tagScript);\n            document.head.append(tagScriptDataLayer);\n          }\n        }\n      }\n    }\n  };\n\n  B.defineFunction('setCookieValue', event => {\n    let oneYearFromNow = new Date();\n    oneYearFromNow.setFullYear(oneYearFromNow.getFullYear() + 1);\n    oneYearFromNow.toGMTString();\n\n    if (document.querySelector('input[name=\"compulsory\"]').closest('.MuiCheckbox-root').classList.contains('Mui-checked')) {\n      document.cookie = `mazarsAcceptCookies=true; expires=${oneYearFromNow}`;\n    }\n\n    if (document.querySelector('input[name=\"analytical\"]').closest('.MuiCheckbox-root').classList.contains('Mui-checked')) {\n      document.cookie = `mazarsAcceptAnalytics=true; expires=${oneYearFromNow}`;\n      enableAnalytics();\n    }\n  });\n  const imgUrl = 'https://assets.bettyblocks.com/b809f00297c044f99d1a9f4b1752f16b_assets/files/Cookie.svg';\n  return isDev ? <div className={classes.empty}><img src={imgUrl} alt='cookies' /><h3>ACookies configuration</h3></div> : <></>;\n})()","styles":"B => theme => {\n  const style = new B.Styling(theme);\n  return {\n    root: {},\n    empty: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      fontSize: '0.75rem',\n      color: '#262A3A',\n      textTransform: 'uppercase',\n      boxSizing: 'border-box',\n      textAlign: 'center',\n      border: '1px solid #ccc',\n      borderRadius: '4px',\n      borderStyle: 'dashed',\n      backgroundColor: 'rgb(240, 241, 245)',\n      padding: '15px',\n      margin: '15px',\n      '& img': {\n        width: '30px',\n        boxSizing: 'border-box',\n        marginRight: '10px'\n      }\n    }\n  };\n}","functions":["setCookieValue"],"triggers":["onCheckCookies"],"interactions":{},"componentHash":"f5cd1b92eeb7a14222227a30c72cf7c2a17fb8f75cb9f6ea7f74ac15804f3e24"}]
